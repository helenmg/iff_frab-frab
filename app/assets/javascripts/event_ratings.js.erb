<% environment.context_class.instance_eval { include EventRatingsHelper } %>
$(function() {
  $("#my_rating").raty({
    path: "",
    starOn: "<%= raty_icon_path('on') %>",
    starHalf: "<%= raty_icon_path('half') %>",
    starOff: "<%= raty_icon_path('off') %>",
    half: true,
    start: $("#event_rating_rating").val(),
    target: "#event_rating_rating",
    targetType: "number",
    targetKeep: true
  });
  $("#total_rating").raty({
    readOnly: true,
    path: "",
    starOn: "<%= raty_icon_path('on') %>",
    starHalf: "<%= raty_icon_path('half') %>",
    starOff: "<%= raty_icon_path('off') %>",
    half: true,
    start: $("#total_rating").data("rating")
  });
  $("td .rating").each(function(index) {
    $(this).raty({
      readOnly: true,
      path: "",
      starOn: "<%= raty_icon_path('on') %>",
      starHalf: "<%= raty_icon_path('half') %>",
      starOff: "<%= raty_icon_path('off') %>",
      half: true,
      start: $(this).data("rating")
    });
  });

  $("[data-function='toggle-description']").click(function() {
    $("#full_description").toggle();
    return false
  });
});
