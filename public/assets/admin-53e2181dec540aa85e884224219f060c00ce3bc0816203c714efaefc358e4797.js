!function(t){t.color={},t.color.make=function(e,i,o,a){var n={};return n.r=e||0,n.g=i||0,n.b=o||0,n.a=null!=a?a:1,n.add=function(t,e){for(var i=0;i<t.length;++i)n[t.charAt(i)]+=e;return n.normalize()},n.scale=function(t,e){for(var i=0;i<t.length;++i)n[t.charAt(i)]*=e;return n.normalize()},n.toString=function(){return n.a>=1?"rgb("+[n.r,n.g,n.b].join(",")+")":"rgba("+[n.r,n.g,n.b,n.a].join(",")+")"},n.normalize=function(){function t(t,e,i){return e<t?t:e>i?i:e}return n.r=t(0,parseInt(n.r),255),n.g=t(0,parseInt(n.g),255),n.b=t(0,parseInt(n.b),255),n.a=t(0,n.a,1),n},n.clone=function(){return t.color.make(n.r,n.b,n.g,n.a)},n.normalize()},t.color.extract=function(e,i){var o;do{if(o=e.css(i).toLowerCase(),""!=o&&"transparent"!=o)break;e=e.parent()}while(!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==o&&(o="transparent"),t.color.parse(o)},t.color.parse=function(i){var o,a=t.color.make;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return a(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return a(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return a(2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3]));if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return a(2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3]),parseFloat(o[4]));if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return a(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return a(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));var n=t.trim(i).toLowerCase();return"transparent"==n?a(255,255,255,0):(o=e[n]||[0,0,0],a(o[0],o[1],o[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,a,n,r){function s(t,e){e=[kt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function l(){for(var e=0;e<r.length;++e){var i=r[e];i.init(kt),i.options&&t.extend(!0,rt,i.options)}}function c(e){var i;for(t.extend(!0,rt,e),null==rt.xaxis.color&&(rt.xaxis.color=rt.grid.color),null==rt.yaxis.color&&(rt.yaxis.color=rt.grid.color),null==rt.xaxis.tickColor&&(rt.xaxis.tickColor=rt.grid.tickColor),null==rt.yaxis.tickColor&&(rt.yaxis.tickColor=rt.grid.tickColor),null==rt.grid.borderColor&&(rt.grid.borderColor=rt.grid.color),null==rt.grid.tickColor&&(rt.grid.tickColor=t.color.parse(rt.grid.color).scale("a",.22).toString()),i=0;i<Math.max(1,rt.xaxes.length);++i)rt.xaxes[i]=t.extend(!0,{},rt.xaxis,rt.xaxes[i]);for(i=0;i<Math.max(1,rt.yaxes.length);++i)rt.yaxes[i]=t.extend(!0,{},rt.yaxis,rt.yaxes[i]);for(rt.xaxis.noTicks&&null==rt.xaxis.ticks&&(rt.xaxis.ticks=rt.xaxis.noTicks),rt.yaxis.noTicks&&null==rt.yaxis.ticks&&(rt.yaxis.ticks=rt.yaxis.noTicks),rt.x2axis&&(rt.xaxes[1]=t.extend(!0,{},rt.xaxis,rt.x2axis),rt.xaxes[1].position="top"),rt.y2axis&&(rt.yaxes[1]=t.extend(!0,{},rt.yaxis,rt.y2axis),rt.yaxes[1].position="right"),rt.grid.coloredAreas&&(rt.grid.markings=rt.grid.coloredAreas),rt.grid.coloredAreasColor&&(rt.grid.markingsColor=rt.grid.coloredAreasColor),rt.lines&&t.extend(!0,rt.series.lines,rt.lines),rt.points&&t.extend(!0,rt.series.points,rt.points),rt.bars&&t.extend(!0,rt.series.bars,rt.bars),null!=rt.shadowSize&&(rt.series.shadowSize=rt.shadowSize),i=0;i<rt.xaxes.length;++i)m(dt,i+1).options=rt.xaxes[i];for(i=0;i<rt.yaxes.length;++i)m(ht,i+1).options=rt.yaxes[i];for(var o in bt)rt.hooks[o]&&rt.hooks[o].length&&(bt[o]=bt[o].concat(rt.hooks[o]));s(bt.processOptions,[rt])}function u(t){nt=p(t),v(),x()}function p(e){for(var i=[],o=0;o<e.length;++o){var a=t.extend(!0,{},rt.series);null!=e[o].data?(a.data=e[o].data,delete e[o].data,t.extend(!0,a,e[o]),e[o].data=a.data):a.data=e[o],i.push(a)}return i}function d(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function h(){return t.grep(dt.concat(ht),function(t){return t})}function f(t){var e,i,o={};for(e=0;e<dt.length;++e)i=dt[e],i&&i.used&&(o["x"+i.n]=i.c2p(t.left));for(e=0;e<ht.length;++e)i=ht[e],i&&i.used&&(o["y"+i.n]=i.c2p(t.top));return void 0!==o.x1&&(o.x=o.x1),void 0!==o.y1&&(o.y=o.y1),o}function g(t){var e,i,o,a={};for(e=0;e<dt.length;++e)if(i=dt[e],i&&i.used&&(o="x"+i.n,null==t[o]&&1==i.n&&(o="x"),null!=t[o])){a.left=i.p2c(t[o]);break}for(e=0;e<ht.length;++e)if(i=ht[e],i&&i.used&&(o="y"+i.n,null==t[o]&&1==i.n&&(o="y"),null!=t[o])){a.top=i.p2c(t[o]);break}return a}function m(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==dt?"x":"y",options:t.extend(!0,{},e==dt?rt.xaxis:rt.yaxis)}),e[i-1]}function v(){var e,i=nt.length,o=[],a=[];for(e=0;e<nt.length;++e){var n=nt[e].color;null!=n&&(--i,"number"==typeof n?a.push(n):o.push(t.color.parse(nt[e].color)))}for(e=0;e<a.length;++e)i=Math.max(i,a[e]+1);var r=[],s=0;for(e=0;r.length<i;){var l;l=rt.colors.length==e?t.color.make(100,100,100):t.color.parse(rt.colors[e]);var c=s%2==1?-1:1;l.scale("rgb",1+c*Math.ceil(s/2)*.2),r.push(l),++e,e>=rt.colors.length&&(e=0,++s)}var u,p=0;for(e=0;e<nt.length;++e){if(u=nt[e],null==u.color?(u.color=r[p].toString(),++p):"number"==typeof u.color&&(u.color=r[u.color].toString()),null==u.lines.show){var h,f=!0;for(h in u)if(u[h]&&u[h].show){f=!1;break}f&&(u.lines.show=!0)}u.xaxis=m(dt,d(u,"x")),u.yaxis=m(ht,d(u,"y"))}}function x(){function e(t,e,i){e<t.datamin&&e!=-m&&(t.datamin=e),i>t.datamax&&i!=m&&(t.datamax=i)}var i,o,a,n,r,l,c,u,p,d,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;for(t.each(h(),function(t,e){e.datamin=f,e.datamax=g,e.used=!1}),i=0;i<nt.length;++i)r=nt[i],r.datapoints={points:[]},s(bt.processRawData,[r,r.data,r.datapoints]);for(i=0;i<nt.length;++i){r=nt[i];var v=r.data,x=r.datapoints.format;if(x||(x=[],x.push({x:!0,number:!0,required:!0}),x.push({y:!0,number:!0,required:!0}),(r.bars.show||r.lines.show&&r.lines.fill)&&(x.push({y:!0,number:!0,required:!1,defaultValue:0}),r.bars.horizontal&&(delete x[x.length-1].y,x[x.length-1].x=!0)),r.datapoints.format=x),null==r.datapoints.pointsize)for(r.datapoints.pointsize=x.length,c=r.datapoints.pointsize,l=r.datapoints.points,insertSteps=r.lines.show&&r.lines.steps,r.xaxis.used=r.yaxis.used=!0,o=a=0;o<v.length;++o,a+=c){d=v[o];var b=null==d;if(!b)for(n=0;n<c;++n)u=d[n],p=x[n],p&&(p.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=m:u==-(1/0)&&(u=-m)),null==u&&(p.required&&(b=!0),null!=p.defaultValue&&(u=p.defaultValue))),l[a+n]=u;if(b)for(n=0;n<c;++n)u=l[a+n],null!=u&&(p=x[n],p.x&&e(r.xaxis,u,u),p.y&&e(r.yaxis,u,u)),l[a+n]=null;else if(insertSteps&&a>0&&null!=l[a-c]&&l[a-c]!=l[a]&&l[a-c+1]!=l[a+1]){for(n=0;n<c;++n)l[a+c+n]=l[a+n];l[a+1]=l[a-c+1],a+=c}}}for(i=0;i<nt.length;++i)r=nt[i],s(bt.processDatapoints,[r,r.datapoints]);for(i=0;i<nt.length;++i){r=nt[i],l=r.datapoints.points,c=r.datapoints.pointsize;var k=f,y=f,w=g,_=g;for(o=0;o<l.length;o+=c)if(null!=l[o])for(n=0;n<c;++n)u=l[o+n],p=x[n],p&&u!=m&&u!=-m&&(p.x&&(u<k&&(k=u),u>w&&(w=u)),p.y&&(u<y&&(y=u),u>_&&(_=u)));if(r.bars.show){var M="left"==r.bars.align?0:-r.bars.barWidth/2;r.bars.horizontal?(y+=M,_+=M+r.bars.barWidth):(k+=M,w+=M+r.bars.barWidth)}e(r.xaxis,k,w),e(r.yaxis,y,_)}t.each(h(),function(t,e){e.datamin==f&&(e.datamin=null),e.datamax==g&&(e.datamax=null)})}function b(i,o){var a=document.createElement("canvas");return a.className=o,a.width=gt,a.height=mt,i||t(a).css({position:"absolute",left:0,top:0}),t(a).appendTo(e),a.getContext||(a=window.G_vmlCanvasManager.initElement(a)),a.getContext("2d").save(),a}function k(){if(gt=e.width(),mt=e.height(),gt<=0||mt<=0)throw"Invalid dimensions for plot, width = "+gt+", height = "+mt}function y(t){t.width!=gt&&(t.width=gt),t.height!=mt&&(t.height=mt);var e=t.getContext("2d");e.restore(),e.save()}function w(){var i,o=e.children("canvas.base"),a=e.children("canvas.overlay");0==o.length||0==a?(e.html(""),e.css({padding:0}),"static"==e.css("position")&&e.css("position","relative"),k(),st=b(!0,"base"),lt=b(!1,"overlay"),i=!1):(st=o.get(0),lt=a.get(0),i=!0),ut=st.getContext("2d"),pt=lt.getContext("2d"),ct=t([lt,st]),i&&(e.data("plot").shutdown(),kt.resize(),pt.clearRect(0,0,gt,mt),ct.unbind(),e.children().not([st,lt]).remove()),e.data("plot",kt)}function _(){rt.grid.hoverable&&(ct.mousemove(V),ct.mouseleave(G)),rt.grid.clickable&&ct.click(Q),s(bt.bindEvents,[ct])}function M(){wt&&clearTimeout(wt),ct.unbind("mousemove",V),ct.unbind("mouseleave",G),ct.unbind("click",Q),s(bt.shutdown,[ct])}function T(t){function e(t){return t}var i,o,a=t.options.transform||e,n=t.options.inverseTransform;"x"==t.direction?(i=t.scale=vt/Math.abs(a(t.max)-a(t.min)),o=Math.min(a(t.max),a(t.min))):(i=t.scale=xt/Math.abs(a(t.max)-a(t.min)),i=-i,o=Math.max(a(t.max),a(t.min))),a==e?t.p2c=function(t){return(t-o)*i}:t.p2c=function(t){return(a(t)-o)*i},n?t.c2p=function(t){return n(o+t/i)}:t.c2p=function(t){return o+t/i}}function C(i){function o(o,a){return t('<div style="position:absolute;top:-10000px;'+a+'font-size:smaller"><div class="'+i.direction+"Axis "+i.direction+i.n+'Axis">'+o.join("")+"</div></div>").appendTo(e)}var a,n,r,s=i.options,l=i.ticks||[],c=[],u=s.labelWidth,p=s.labelHeight;if("x"==i.direction){if(null==u&&(u=Math.floor(gt/(l.length>0?l.length:1))),null==p){for(c=[],a=0;a<l.length;++a)n=l[a].label,n&&c.push('<div class="tickLabel" style="float:left;width:'+u+'px">'+n+"</div>");c.length>0&&(c.push('<div style="clear:left"></div>'),r=o(c,"width:10000px;"),p=r.height(),r.remove())}}else if(null==u||null==p){for(a=0;a<l.length;++a)n=l[a].label,n&&c.push('<div class="tickLabel">'+n+"</div>");c.length>0&&(r=o(c,""),null==u&&(u=r.children().width()),null==p&&(p=r.find("div.tickLabel").height()),r.remove())}null==u&&(u=0),null==p&&(p=0),i.labelWidth=u,i.labelHeight=p}function S(e){var i=e.labelWidth,o=e.labelHeight,a=e.options.position,n=e.options.tickLength,r=rt.grid.axisMargin,s=rt.grid.labelMargin,l="x"==e.direction?dt:ht,c=t.grep(l,function(t){return t&&t.options.position==a&&t.reserveSpace});t.inArray(e,c)==c.length-1&&(r=0),null==n&&(n="full");var u=t.grep(l,function(t){return t&&t.reserveSpace}),p=0==t.inArray(e,u);p||"full"!=n||(n=5),isNaN(+n)||(s+=+n),"x"==e.direction?(o+=s,"bottom"==a?(ft.bottom+=o+r,e.box={top:mt-ft.bottom,height:o}):(e.box={top:ft.top+r,height:o},ft.top+=o+r)):(i+=s,"left"==a?(e.box={left:ft.left+r,width:i},ft.left+=i+r):(ft.right+=i+r,e.box={left:gt-ft.right,width:i})),e.position=a,e.tickLength=n,e.box.padding=s,e.innermost=p}function I(t){"x"==t.direction?(t.box.left=ft.left,t.box.width=vt):(t.box.top=ft.top,t.box.height=xt)}function A(){var e,i=h();if(t.each(i,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,P(e)}),allocatedAxes=t.grep(i,function(t){return t.reserveSpace}),ft.left=ft.right=ft.top=ft.bottom=0,rt.grid.show){for(t.each(allocatedAxes,function(t,e){O(e),z(e),W(e,e.ticks),C(e)}),e=allocatedAxes.length-1;e>=0;--e)S(allocatedAxes[e]);var o=rt.grid.minBorderMargin;if(null==o)for(o=0,e=0;e<nt.length;++e)o=Math.max(o,nt[e].points.radius+nt[e].points.lineWidth/2);for(var a in ft)ft[a]+=rt.grid.borderWidth,ft[a]=Math.max(o,ft[a])}vt=gt-ft.left-ft.right,xt=mt-ft.bottom-ft.top,t.each(i,function(t,e){T(e)}),rt.grid.show&&(t.each(allocatedAxes,function(t,e){I(e)}),j()),E()}function P(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),o=+(null!=e.max?e.max:t.datamax),a=o-i;if(0==a){var n=0==o?1:.01;null==e.min&&(i-=n),null!=e.max&&null==e.min||(o+=n)}else{var r=e.autoscaleMargin;null!=r&&(null==e.min&&(i-=a*r,i<0&&null!=t.datamin&&t.datamin>=0&&(i=0)),null==e.max&&(o+=a*r,o>0&&null!=t.datamax&&t.datamax<=0&&(o=0)))}t.min=i,t.max=o}function O(e){var i,a=e.options;i="number"==typeof a.ticks&&a.ticks>0?a.ticks:.3*Math.sqrt("x"==e.direction?gt:mt);var n,r,s,l,c,u,p,d=(e.max-e.min)/i;if("time"==a.mode){var h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},f=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],g=0;null!=a.minTickSize&&(g="number"==typeof a.tickSize?a.tickSize:a.minTickSize[0]*h[a.minTickSize[1]]);for(var c=0;c<f.length-1&&!(d<(f[c][0]*h[f[c][1]]+f[c+1][0]*h[f[c+1][1]])/2&&f[c][0]*h[f[c][1]]>=g);++c);n=f[c][0],s=f[c][1],"year"==s&&(u=Math.pow(10,Math.floor(Math.log(d/h.year)/Math.LN10)),p=d/h.year/u,n=p<1.5?1:p<3?2:p<7.5?5:10,n*=u),e.tickSize=a.tickSize||[n,s],r=function(t){var e=[],i=t.tickSize[0],a=t.tickSize[1],n=new Date(t.min),r=i*h[a];"second"==a&&n.setUTCSeconds(o(n.getUTCSeconds(),i)),"minute"==a&&n.setUTCMinutes(o(n.getUTCMinutes(),i)),"hour"==a&&n.setUTCHours(o(n.getUTCHours(),i)),"month"==a&&n.setUTCMonth(o(n.getUTCMonth(),i)),"year"==a&&n.setUTCFullYear(o(n.getUTCFullYear(),i)),n.setUTCMilliseconds(0),r>=h.minute&&n.setUTCSeconds(0),r>=h.hour&&n.setUTCMinutes(0),r>=h.day&&n.setUTCHours(0),r>=4*h.day&&n.setUTCDate(1),r>=h.year&&n.setUTCMonth(0);var s,l=0,c=Number.NaN;do if(s=c,c=n.getTime(),e.push(c),"month"==a)if(i<1){n.setUTCDate(1);var u=n.getTime();n.setUTCMonth(n.getUTCMonth()+1);var p=n.getTime();n.setTime(c+l*h.hour+(p-u)*i),l=n.getUTCHours(),n.setUTCHours(0)}else n.setUTCMonth(n.getUTCMonth()+i);else"year"==a?n.setUTCFullYear(n.getUTCFullYear()+i):n.setTime(c+r);while(c<t.max&&c!=s);return e},l=function(e,i){var o=new Date(e);if(null!=a.timeformat)return t.plot.formatDate(o,a.timeformat,a.monthNames);var n=i.tickSize[0]*h[i.tickSize[1]],r=i.max-i.min,s=a.twelveHourClock?" %p":"";return n<h.minute?fmt="%h:%M:%S"+s:n<h.day?r<2*h.day?fmt="%h:%M"+s:fmt="%b %d %h:%M"+s:n<h.month?fmt="%b %d":n<h.year?r<h.year?fmt="%b":fmt="%b %y":fmt="%y",t.plot.formatDate(o,fmt,a.monthNames)}}else{var m=a.tickDecimals,v=-Math.floor(Math.log(d)/Math.LN10);null!=m&&v>m&&(v=m),u=Math.pow(10,-v),p=d/u,p<1.5?n=1:p<3?(n=2,p>2.25&&(null==m||v+1<=m)&&(n=2.5,++v)):n=p<7.5?5:10,n*=u,null!=a.minTickSize&&n<a.minTickSize&&(n=a.minTickSize),e.tickDecimals=Math.max(0,null!=m?m:v),e.tickSize=a.tickSize||n,r=function(t){var e,i=[],a=o(t.min,t.tickSize),n=0,r=Number.NaN;do e=r,r=a+n*t.tickSize,i.push(r),++n;while(r<t.max&&r!=e);return i},l=function(t,e){return t.toFixed(e.tickDecimals)}}if(null!=a.alignTicksWithAxis){var x=("x"==e.direction?dt:ht)[a.alignTicksWithAxis-1];if(x&&x.used&&x!=e){var b=r(e);if(b.length>0&&(null==a.min&&(e.min=Math.min(e.min,b[0])),null==a.max&&b.length>1&&(e.max=Math.max(e.max,b[b.length-1]))),r=function(t){var e,i,o=[];for(i=0;i<x.ticks.length;++i)e=(x.ticks[i].v-x.min)/(x.max-x.min),e=t.min+e*(t.max-t.min),o.push(e);return o},"time"!=e.mode&&null==a.tickDecimals){var k=Math.max(0,-Math.floor(Math.log(d)/Math.LN10)+1),y=r(e);y.length>1&&/\..*0$/.test((y[1]-y[0]).toFixed(k))||(e.tickDecimals=k)}}}e.tickGenerator=r,t.isFunction(a.tickFormatter)?e.tickFormatter=function(t,e){return""+a.tickFormatter(t,e)}:e.tickFormatter=l}function z(e){var i=e.options.ticks,o=[];null==i||"number"==typeof i&&i>0?o=e.tickGenerator(e):i&&(o=t.isFunction(i)?i({min:e.min,max:e.max}):i);var a,n;for(e.ticks=[],a=0;a<o.length;++a){var r=null,s=o[a];"object"==typeof s?(n=+s[0],s.length>1&&(r=s[1])):n=+s,null==r&&(r=e.tickFormatter(n,e)),isNaN(n)||e.ticks.push({v:n,label:r})}}function W(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function F(){ut.clearRect(0,0,gt,mt);var t=rt.grid;t.show&&t.backgroundColor&&H(),t.show&&!t.aboveData&&D();for(var e=0;e<nt.length;++e)s(bt.drawSeries,[ut,nt[e]]),U(nt[e]);s(bt.draw,[ut]),t.show&&t.aboveData&&D()}function N(t,e){var o,a,n,r,s=h();for(i=0;i<s.length;++i)if(o=s[i],o.direction==e&&(r=e+o.n+"axis",t[r]||1!=o.n||(r=e+"axis"),t[r])){a=t[r].from,n=t[r].to;break}if(t[r]||(o="x"==e?dt[0]:ht[0],a=t[e+"1"],n=t[e+"2"]),null!=a&&null!=n&&a>n){var l=a;a=n,n=l}return{from:a,to:n,axis:o}}function H(){ut.save(),ut.translate(ft.left,ft.top),ut.fillStyle=at(rt.grid.backgroundColor,xt,0,"rgba(255, 255, 255, 0)"),ut.fillRect(0,0,vt,xt),ut.restore()}function D(){var e;ut.save(),ut.translate(ft.left,ft.top);var i=rt.grid.markings;if(i){if(t.isFunction(i)){var o=kt.getAxes();o.xmin=o.xaxis.min,o.xmax=o.xaxis.max,o.ymin=o.yaxis.min,o.ymax=o.yaxis.max,i=i(o)}for(e=0;e<i.length;++e){var a=i[e],n=N(a,"x"),r=N(a,"y");null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),n.to<n.axis.min||n.from>n.axis.max||r.to<r.axis.min||r.from>r.axis.max||(n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max),r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),n.from==n.to&&r.from==r.to||(n.from=n.axis.p2c(n.from),n.to=n.axis.p2c(n.to),r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),n.from==n.to||r.from==r.to?(ut.beginPath(),ut.strokeStyle=a.color||rt.grid.markingsColor,ut.lineWidth=a.lineWidth||rt.grid.markingsLineWidth,ut.moveTo(n.from,r.from),ut.lineTo(n.to,r.to),ut.stroke()):(ut.fillStyle=a.color||rt.grid.markingsColor,ut.fillRect(n.from,r.to,n.to-n.from,r.from-r.to))))}}for(var o=h(),s=rt.grid.borderWidth,l=0;l<o.length;++l){var c,u,p,d,f=o[l],g=f.box,m=f.tickLength;if(f.show&&0!=f.ticks.length){for(ut.strokeStyle=f.options.tickColor||t.color.parse(f.options.color).scale("a",.22).toString(),ut.lineWidth=1,"x"==f.direction?(c=0,u="full"==m?"top"==f.position?0:xt:g.top-ft.top+("top"==f.position?g.height:0)):(u=0,c="full"==m?"left"==f.position?0:vt:g.left-ft.left+("left"==f.position?g.width:0)),f.innermost||(ut.beginPath(),p=d=0,"x"==f.direction?p=vt:d=xt,1==ut.lineWidth&&(c=Math.floor(c)+.5,u=Math.floor(u)+.5),ut.moveTo(c,u),ut.lineTo(c+p,u+d),ut.stroke()),ut.beginPath(),e=0;e<f.ticks.length;++e){var v=f.ticks[e].v;p=d=0,v<f.min||v>f.max||"full"==m&&s>0&&(v==f.min||v==f.max)||("x"==f.direction?(c=f.p2c(v),d="full"==m?-xt:m,"top"==f.position&&(d=-d)):(u=f.p2c(v),p="full"==m?-vt:m,"left"==f.position&&(p=-p)),1==ut.lineWidth&&("x"==f.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),ut.moveTo(c,u),ut.lineTo(c+p,u+d))}ut.stroke()}}s&&(ut.lineWidth=s,ut.strokeStyle=rt.grid.borderColor,ut.strokeRect(-s/2,-s/2,vt+s,xt+s)),ut.restore()}function j(){e.find(".tickLabels").remove();for(var t=['<div class="tickLabels" style="font-size:smaller">'],i=h(),o=0;o<i.length;++o){var a=i[o],n=a.box;if(a.show){t.push('<div class="'+a.direction+"Axis "+a.direction+a.n+'Axis" style="color:'+a.options.color+'">');for(var r=0;r<a.ticks.length;++r){var s=a.ticks[r];if(!(!s.label||s.v<a.min||s.v>a.max)){var l,c={};"x"==a.direction?(l="center",c.left=Math.round(ft.left+a.p2c(s.v)-a.labelWidth/2),"bottom"==a.position?c.top=n.top+n.padding:c.bottom=mt-(n.top+n.height-n.padding)):(c.top=Math.round(ft.top+a.p2c(s.v)-a.labelHeight/2),"left"==a.position?(c.right=gt-(n.left+n.width-n.padding),l="right"):(c.left=n.left+n.padding,l="left")),c.width=a.labelWidth;var u=["position:absolute","text-align:"+l];for(var p in c)u.push(p+":"+c[p]+"px");t.push('<div class="tickLabel" style="'+u.join(";")+'">'+s.label+"</div>")}}t.push("</div>")}}t.push("</div>"),e.append(t.join(""))}function U(t){t.lines.show&&L(t),t.bars.show&&X(t),t.points.show&&R(t)}function L(t){function e(t,e,i,o,a){var n=t.points,r=t.pointsize,s=null,l=null;ut.beginPath();for(var c=r;c<n.length;c+=r){var u=n[c-r],p=n[c-r+1],d=n[c],h=n[c+1];if(null!=u&&null!=d){if(p<=h&&p<a.min){if(h<a.min)continue;u=(a.min-p)/(h-p)*(d-u)+u,p=a.min}else if(h<=p&&h<a.min){if(p<a.min)continue;d=(a.min-p)/(h-p)*(d-u)+u,h=a.min}if(p>=h&&p>a.max){if(h>a.max)continue;u=(a.max-p)/(h-p)*(d-u)+u,p=a.max}else if(h>=p&&h>a.max){if(p>a.max)continue;d=(a.max-p)/(h-p)*(d-u)+u,h=a.max}if(u<=d&&u<o.min){if(d<o.min)continue;p=(o.min-u)/(d-u)*(h-p)+p,u=o.min}else if(d<=u&&d<o.min){if(u<o.min)continue;h=(o.min-u)/(d-u)*(h-p)+p,d=o.min}if(u>=d&&u>o.max){if(d>o.max)continue;p=(o.max-u)/(d-u)*(h-p)+p,u=o.max}else if(d>=u&&d>o.max){if(u>o.max)continue;h=(o.max-u)/(d-u)*(h-p)+p,d=o.max}u==s&&p==l||ut.moveTo(o.p2c(u)+e,a.p2c(p)+i),s=d,l=h,ut.lineTo(o.p2c(d)+e,a.p2c(h)+i)}}ut.stroke()}function i(t,e,i){for(var o=t.points,a=t.pointsize,n=Math.min(Math.max(0,i.min),i.max),r=0,s=!1,l=1,c=0,u=0;;){if(a>0&&r>o.length+a)break;r+=a;var p=o[r-a],d=o[r-a+l],h=o[r],f=o[r+l];if(s){if(a>0&&null!=p&&null==h){u=r,a=-a,l=2;continue}if(a<0&&r==c+a){ut.fill(),s=!1,a=-a,l=1,r=c=u+a;continue}}if(null!=p&&null!=h){if(p<=h&&p<e.min){if(h<e.min)continue;d=(e.min-p)/(h-p)*(f-d)+d,p=e.min}else if(h<=p&&h<e.min){if(p<e.min)continue;f=(e.min-p)/(h-p)*(f-d)+d,h=e.min}if(p>=h&&p>e.max){if(h>e.max)continue;d=(e.max-p)/(h-p)*(f-d)+d,p=e.max}else if(h>=p&&h>e.max){if(p>e.max)continue;f=(e.max-p)/(h-p)*(f-d)+d,h=e.max}if(s||(ut.beginPath(),ut.moveTo(e.p2c(p),i.p2c(n)),s=!0),d>=i.max&&f>=i.max)ut.lineTo(e.p2c(p),i.p2c(i.max)),ut.lineTo(e.p2c(h),i.p2c(i.max));else if(d<=i.min&&f<=i.min)ut.lineTo(e.p2c(p),i.p2c(i.min)),ut.lineTo(e.p2c(h),i.p2c(i.min));else{var g=p,m=h;d<=f&&d<i.min&&f>=i.min?(p=(i.min-d)/(f-d)*(h-p)+p,d=i.min):f<=d&&f<i.min&&d>=i.min&&(h=(i.min-d)/(f-d)*(h-p)+p,f=i.min),d>=f&&d>i.max&&f<=i.max?(p=(i.max-d)/(f-d)*(h-p)+p,d=i.max):f>=d&&f>i.max&&d<=i.max&&(h=(i.max-d)/(f-d)*(h-p)+p,f=i.max),p!=g&&ut.lineTo(e.p2c(g),i.p2c(d)),ut.lineTo(e.p2c(p),i.p2c(d)),ut.lineTo(e.p2c(h),i.p2c(f)),h!=m&&(ut.lineTo(e.p2c(h),i.p2c(f)),ut.lineTo(e.p2c(m),i.p2c(f)))}}}}ut.save(),ut.translate(ft.left,ft.top),ut.lineJoin="round";var o=t.lines.lineWidth,a=t.shadowSize;if(o>0&&a>0){ut.lineWidth=a,ut.strokeStyle="rgba(0,0,0,0.1)";var n=Math.PI/18;e(t.datapoints,Math.sin(n)*(o/2+a/2),Math.cos(n)*(o/2+a/2),t.xaxis,t.yaxis),ut.lineWidth=a/2,e(t.datapoints,Math.sin(n)*(o/2+a/4),Math.cos(n)*(o/2+a/4),t.xaxis,t.yaxis)}ut.lineWidth=o,ut.strokeStyle=t.color;var r=q(t.lines,t.color,0,xt);r&&(ut.fillStyle=r,i(t.datapoints,t.xaxis,t.yaxis)),o>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),ut.restore()}function R(t){function e(t,e,i,o,a,n,r,s){for(var l=t.points,c=t.pointsize,u=0;u<l.length;u+=c){var p=l[u],d=l[u+1];null==p||p<n.min||p>n.max||d<r.min||d>r.max||(ut.beginPath(),p=n.p2c(p),d=r.p2c(d)+o,"circle"==s?ut.arc(p,d,e,0,a?Math.PI:2*Math.PI,!1):s(ut,p,d,e,a),ut.closePath(),i&&(ut.fillStyle=i,ut.fill()),ut.stroke())}}ut.save(),ut.translate(ft.left,ft.top);var i=t.points.lineWidth,o=t.shadowSize,a=t.points.radius,n=t.points.symbol;if(i>0&&o>0){var r=o/2;ut.lineWidth=r,ut.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,a,null,r+r/2,!0,t.xaxis,t.yaxis,n),ut.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,a,null,r/2,!0,t.xaxis,t.yaxis,n)}ut.lineWidth=i,ut.strokeStyle=t.color,e(t.datapoints,a,q(t.points,t.color),0,!1,t.xaxis,t.yaxis,n),ut.restore()}function Y(t,e,i,o,a,n,r,s,l,c,u,p){var d,h,f,g,m,v,x,b,k;u?(b=v=x=!0,m=!1,d=i,h=t,g=e+o,f=e+a,h<d&&(k=h,h=d,d=k,m=!0,v=!1)):(m=v=x=!0,b=!1,d=t+o,h=t+a,f=i,g=e,g<f&&(k=g,g=f,f=k,b=!0,x=!1)),h<s.min||d>s.max||g<l.min||f>l.max||(d<s.min&&(d=s.min,m=!1),h>s.max&&(h=s.max,v=!1),f<l.min&&(f=l.min,b=!1),g>l.max&&(g=l.max,x=!1),d=s.p2c(d),f=l.p2c(f),h=s.p2c(h),g=l.p2c(g),r&&(c.beginPath(),c.moveTo(d,f),c.lineTo(d,g),c.lineTo(h,g),c.lineTo(h,f),c.fillStyle=r(f,g),c.fill()),p>0&&(m||v||x||b)&&(c.beginPath(),c.moveTo(d,f+n),m?c.lineTo(d,g+n):c.moveTo(d,g+n),x?c.lineTo(h,g+n):c.moveTo(h,g+n),v?c.lineTo(h,f+n):c.moveTo(h,f+n),b?c.lineTo(d,f+n):c.moveTo(d,f+n),c.stroke()))}function X(t){function e(e,i,o,a,n,r,s){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c)null!=l[u]&&Y(l[u],l[u+1],l[u+2],i,o,a,n,r,s,ut,t.bars.horizontal,t.bars.lineWidth)}ut.save(),ut.translate(ft.left,ft.top),ut.lineWidth=t.bars.lineWidth,ut.strokeStyle=t.color;var i="left"==t.bars.align?0:-t.bars.barWidth/2,o=t.bars.fill?function(e,i){return q(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,0,o,t.xaxis,t.yaxis),ut.restore()}function q(e,i,o,a){var n=e.fill;if(!n)return null;if(e.fillColor)return at(e.fillColor,o,a,i);var r=t.color.parse(i);return r.a="number"==typeof n?n:.4,r.normalize(),r.toString()}function E(){if(e.find(".legend").remove(),rt.legend.show){for(var i,o,a=[],n=!1,r=rt.legend.labelFormatter,s=0;s<nt.length;++s)i=nt[s],o=i.label,o&&(s%rt.legend.noColumns==0&&(n&&a.push("</tr>"),a.push("<tr>"),n=!0),r&&(o=r(o,i)),a.push('<td class="legendColorBox"><div style="border:1px solid '+rt.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+o+"</td>"));if(n&&a.push("</tr>"),0!=a.length){var l='<table style="font-size:smaller;color:'+rt.grid.color+'">'+a.join("")+"</table>";if(null!=rt.legend.container)t(rt.legend.container).html(l);else{var c="",u=rt.legend.position,p=rt.legend.margin;null==p[0]&&(p=[p,p]),"n"==u.charAt(0)?c+="top:"+(p[1]+ft.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(p[1]+ft.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(p[0]+ft.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(p[0]+ft.left)+"px;");var d=t('<div class="legend">'+l.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(e);if(0!=rt.legend.backgroundOpacity){var h=rt.legend.backgroundColor;null==h&&(h=rt.grid.backgroundColor,h=h&&"string"==typeof h?t.color.parse(h):t.color.extract(d,"background-color"),h.a=1,h=h.toString());var f=d.children();t('<div style="position:absolute;width:'+f.width()+"px;height:"+f.height()+"px;"+c+"background-color:"+h+';"> </div>').prependTo(d).css("opacity",rt.legend.backgroundOpacity)}}}}}function B(t,e,i){var o,a,n=rt.grid.mouseActiveRadius,r=n*n+1,s=null;for(o=nt.length-1;o>=0;--o)if(i(nt[o])){var l=nt[o],c=l.xaxis,u=l.yaxis,p=l.datapoints.points,d=l.datapoints.pointsize,h=c.c2p(t),f=u.c2p(e),g=n/c.scale,m=n/u.scale;if(c.options.inverseTransform&&(g=Number.MAX_VALUE),u.options.inverseTransform&&(m=Number.MAX_VALUE),l.lines.show||l.points.show)for(a=0;a<p.length;a+=d){var v=p[a],x=p[a+1];if(null!=v&&!(v-h>g||v-h<-g||x-f>m||x-f<-m)){var b=Math.abs(c.p2c(v)-t),k=Math.abs(u.p2c(x)-e),y=b*b+k*k;y<r&&(r=y,s=[o,a/d])}}if(l.bars.show&&!s){var w="left"==l.bars.align?0:-l.bars.barWidth/2,_=w+l.bars.barWidth;for(a=0;a<p.length;a+=d){var v=p[a],x=p[a+1],M=p[a+2];null!=v&&(nt[o].bars.horizontal?h<=Math.max(M,v)&&h>=Math.min(M,v)&&f>=x+w&&f<=x+_:h>=v+w&&h<=v+_&&f>=Math.min(M,x)&&f<=Math.max(M,x))&&(s=[o,a/d])}}}return s?(o=s[0],a=s[1],d=nt[o].datapoints.pointsize,{datapoint:nt[o].datapoints.points.slice(a*d,(a+1)*d),dataIndex:a,series:nt[o],seriesIndex:o}):null}function V(t){rt.grid.hoverable&&J("plothover",t,function(t){return 0!=t.hoverable})}function G(t){rt.grid.hoverable&&J("plothover",t,function(){return!1})}function Q(t){J("plotclick",t,function(t){return 0!=t.clickable})}function J(t,i,o){var a=ct.offset(),n=i.pageX-a.left-ft.left,r=i.pageY-a.top-ft.top,s=f({left:n,top:r});s.pageX=i.pageX,s.pageY=i.pageY;var l=B(n,r,o);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+a.left+ft.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+a.top+ft.top)),rt.grid.autoHighlight){for(var c=0;c<yt.length;++c){var u=yt[c];u.auto!=t||l&&u.series==l.series&&u.point[0]==l.datapoint[0]&&u.point[1]==l.datapoint[1]||tt(u.series,u.point)}l&&Z(l.series,l.datapoint,t)}e.trigger(t,[s,l])}function K(){wt||(wt=setTimeout($,30))}function $(){wt=null,pt.save(),pt.clearRect(0,0,gt,mt),pt.translate(ft.left,ft.top);var t,e;for(t=0;t<yt.length;++t)e=yt[t],e.series.bars.show?ot(e.series,e.point):it(e.series,e.point);pt.restore(),s(bt.drawOverlay,[pt])}function Z(t,e,i){if("number"==typeof t&&(t=nt[t]),"number"==typeof e){var o=t.datapoints.pointsize;e=t.datapoints.points.slice(o*e,o*(e+1))}var a=et(t,e);a==-1?(yt.push({series:t,point:e,auto:i}),K()):i||(yt[a].auto=!1)}function tt(t,e){null==t&&null==e&&(yt=[],K()),"number"==typeof t&&(t=nt[t]),"number"==typeof e&&(e=t.data[e]);var i=et(t,e);i!=-1&&(yt.splice(i,1),K())}function et(t,e){for(var i=0;i<yt.length;++i){var o=yt[i];if(o.series==t&&o.point[0]==e[0]&&o.point[1]==e[1])return i}return-1}function it(e,i){var o=i[0],a=i[1],n=e.xaxis,r=e.yaxis;if(!(o<n.min||o>n.max||a<r.min||a>r.max)){var s=e.points.radius+e.points.lineWidth/2;pt.lineWidth=s,pt.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var l=1.5*s,o=n.p2c(o),a=r.p2c(a);pt.beginPath(),"circle"==e.points.symbol?pt.arc(o,a,l,0,2*Math.PI,!1):e.points.symbol(pt,o,a,l,!1),pt.closePath(),pt.stroke()}}function ot(e,i){pt.lineWidth=e.bars.lineWidth,pt.strokeStyle=t.color.parse(e.color).scale("a",.5).toString();var o=t.color.parse(e.color).scale("a",.5).toString(),a="left"==e.bars.align?0:-e.bars.barWidth/2;Y(i[0],i[1],i[2]||0,a,a+e.bars.barWidth,0,function(){return o},e.xaxis,e.yaxis,pt,e.bars.horizontal,e.bars.lineWidth)}function at(e,i,o,a){if("string"==typeof e)return e;for(var n=ut.createLinearGradient(0,o,0,i),r=0,s=e.colors.length;r<s;++r){var l=e.colors[r];if("string"!=typeof l){var c=t.color.parse(a);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}n.addColorStop(r/(s-1),l)}return n}var nt=[],rt={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},st=null,lt=null,ct=null,ut=null,pt=null,dt=[],ht=[],ft={left:0,right:0,top:0,bottom:0},gt=0,mt=0,vt=0,xt=0,bt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},kt=this;kt.setData=u,kt.setupGrid=A,kt.draw=F,kt.getPlaceholder=function(){return e},kt.getCanvas=function(){return st},kt.getPlotOffset=function(){return ft},kt.width=function(){return vt},kt.height=function(){return xt},kt.offset=function(){var t=ct.offset();return t.left+=ft.left,t.top+=ft.top,t},kt.getData=function(){return nt},kt.getAxes=function(){var e={};return t.each(dt.concat(ht),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},kt.getXAxes=function(){return dt},kt.getYAxes=function(){return ht},kt.c2p=f,kt.p2c=g,kt.getOptions=function(){return rt},kt.highlight=Z,kt.unhighlight=tt,kt.triggerRedrawOverlay=K,kt.pointOffset=function(t){return{left:parseInt(dt[d(t,"x")-1].p2c(+t.x)+ft.left),top:parseInt(ht[d(t,"y")-1].p2c(+t.y)+ft.top)}},kt.shutdown=M,kt.resize=function(){k(),y(st),y(lt)},kt.hooks=bt,l(kt),c(n),w(),u(a),A(),F(),_();var yt=[],wt=null}function o(t,e){return e*Math.floor(t/e)}t.plot=function(i,o,a){var n=new e(t(i),o,a,t.plot.plugins);return n},t.plot.version="0.7",t.plot.plugins=[],t.plot.formatDate=function(t,e,i){var o=function(t){return t=""+t,1==t.length?"0"+t:t},a=[],n=!1,r=!1,s=t.getUTCHours(),l=s<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),e.search(/%p|%P/)!=-1&&(s>12?s-=12:0==s&&(s=12));for(var c=0;c<e.length;++c){var u=e.charAt(c);if(n){switch(u){case"h":u=""+s;break;case"H":u=o(s);break;
case"M":u=o(t.getUTCMinutes());break;case"S":u=o(t.getUTCSeconds());break;case"d":u=""+t.getUTCDate();break;case"m":u=""+(t.getUTCMonth()+1);break;case"y":u=""+t.getUTCFullYear();break;case"b":u=""+i[t.getUTCMonth()];break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"0":u="",r=!0}u&&r&&(u=o(u),r=!1),a.push(u),r||(n=!1)}else"%"==u?n=!0:a.push(u)}return a.join("")}}(jQuery),function(t){function e(e){function a(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),e.series.pie.tilt>1&&(e.series.pie.tilt=1),e.series.pie.tilt<0&&(e.series.pie.tilt=0),t.hooks.processDatapoints.push(s),t.hooks.drawOverlay.push(_),t.hooks.draw.push(p))}function n(t,e){var i=t.getOptions();i.series.pie.show&&i.grid.hoverable&&e.unbind("mousemove").mousemove(g),i.series.pie.show&&i.grid.clickable&&e.unbind("click").click(m)}function r(t){for(var e=0;e<t.length;++e){var i=parseFloat(t[e].data[0][1]);i&&(A+=i)}}function s(e){F||(F=!0,M=e.getCanvas(),T=t(M).parent(),o=e.getOptions(),e.setData(u(e.getData())))}function l(){W=T.children().filter(".legend").children().width(),C=Math.min(M.width,M.height/o.series.pie.tilt)/2,I=M.height/2+o.series.pie.offset.top,S=M.width/2,"auto"==o.series.pie.offset.left?o.legend.position.match("w")?S+=W/2:S-=W/2:S+=o.series.pie.offset.left,S<C?S=C:S>M.width-C&&(S=M.width-C)}function c(t){for(var e=0;e<t.length;++e)"number"==typeof t[e].data?t[e].data=[[1,t[e].data]]:"undefined"!=typeof t[e].data&&"undefined"!=typeof t[e].data[0]||("undefined"!=typeof t[e].data&&"undefined"!=typeof t[e].data.label&&(t[e].label=t[e].data.label),t[e].data=[[1,0]]);return t}function u(t){t=c(t),r(t);for(var e=0,i=0,a=o.series.pie.combine.color,n=[],s=0;s<t.length;++s)t[s].data[0][1]=parseFloat(t[s].data[0][1]),t[s].data[0][1]||(t[s].data[0][1]=0),t[s].data[0][1]/A<=o.series.pie.combine.threshold?(e+=t[s].data[0][1],i++,a||(a=t[s].color)):n.push({data:[[1,t[s].data[0][1]]],color:t[s].color,label:t[s].label,angle:t[s].data[0][1]*(2*Math.PI)/A,percent:t[s].data[0][1]/A*100});return i>0&&n.push({data:[[1,e]],color:a,label:o.series.pie.combine.label,angle:e*(2*Math.PI)/A,percent:e/A*100}),n}function p(e,i){function a(){ctx.clearRect(0,0,M.width,M.height),T.children().filter(".pieLabel, .pieLabelBackground").remove()}function n(){var t=5,e=15,i=10,a=.02;if(o.series.pie.radius>1)var n=o.series.pie.radius;else var n=C*o.series.pie.radius;if(!(n>=M.width/2-t||n*o.series.pie.tilt>=M.height/2-e||n<=i)){ctx.save(),ctx.translate(t,e),ctx.globalAlpha=a,ctx.fillStyle="#000",ctx.translate(S,I),ctx.scale(1,o.series.pie.tilt);for(var r=1;r<=i;r++)ctx.beginPath(),ctx.arc(0,0,n,0,2*Math.PI,!1),ctx.fill(),n-=r;ctx.restore()}}function r(){function e(e,i,o){e<=0||(o?ctx.fillStyle=i:(ctx.strokeStyle=i,ctx.lineJoin="round"),ctx.beginPath(),Math.abs(e-2*Math.PI)>1e-9?ctx.moveTo(0,0):t.browser.msie&&(e-=1e-4),ctx.arc(0,0,a,n,n+e,!1),ctx.closePath(),n+=e,o?ctx.fill():ctx.stroke())}function i(){function e(e,i,n){if(0!=e.data[0][1]){var r,s=o.legend.labelFormatter,l=o.series.pie.label.formatter;r=s?s(e.label,e):e.label,l&&(r=l(r,e));var c=(i+e.angle+i)/2,u=S+Math.round(Math.cos(c)*a),p=I+Math.round(Math.sin(c)*a)*o.series.pie.tilt,d='<span class="pieLabel" id="pieLabel'+n+'" style="position:absolute;top:'+p+"px;left:"+u+'px;">'+r+"</span>";T.append(d);var h=T.children("#pieLabel"+n),f=p-h.height()/2,g=u-h.width()/2;if(h.css("top",f),h.css("left",g),(0-f>0||0-g>0||M.height-(f+h.height())<0||M.width-(g+h.width())<0)&&(P=!0),0!=o.series.pie.label.background.opacity){var m=o.series.pie.label.background.color;null==m&&(m=e.color);var v="top:"+f+"px;left:"+g+"px;";t('<div class="pieLabelBackground" style="position:absolute;width:'+h.width()+"px;height:"+h.height()+"px;"+v+"background-color:"+m+';"> </div>').insertBefore(h).css("opacity",o.series.pie.label.background.opacity)}}}var i=startAngle;if(o.series.pie.label.radius>1)var a=o.series.pie.label.radius;else var a=C*o.series.pie.label.radius;for(var n=0;n<s.length;++n)s[n].percent>=100*o.series.pie.label.threshold&&e(s[n],i,n),i+=s[n].angle}if(startAngle=Math.PI*o.series.pie.startAngle,o.series.pie.radius>1)var a=o.series.pie.radius;else var a=C*o.series.pie.radius;ctx.save(),ctx.translate(S,I),ctx.scale(1,o.series.pie.tilt),ctx.save();for(var n=startAngle,r=0;r<s.length;++r)s[r].startAngle=n,e(s[r].angle,s[r].color,!0);ctx.restore(),ctx.save(),ctx.lineWidth=o.series.pie.stroke.width,n=startAngle;for(var r=0;r<s.length;++r)e(s[r].angle,o.series.pie.stroke.color,!1);ctx.restore(),d(ctx),o.series.pie.label.show&&i(),ctx.restore()}if(T){ctx=i,l();for(var s=e.getData(),c=0;P&&c<O;)P=!1,c>0&&(C*=z),c+=1,a(),o.series.pie.tilt<=.8&&n(),r();c>=O&&(a(),T.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>')),e.setSeries&&e.insertLegend&&(e.setSeries(s),e.insertLegend())}}function d(t){o.series.pie.innerRadius>0&&(t.save(),innerRadius=o.series.pie.innerRadius>1?o.series.pie.innerRadius:C*o.series.pie.innerRadius,t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=o.series.pie.stroke.color,t.arc(0,0,innerRadius,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=o.series.pie.stroke.color,t.arc(0,0,innerRadius,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore())}function h(t,e){for(var i=!1,o=-1,a=t.length,n=a-1;++o<a;n=o)(t[o][1]<=e[1]&&e[1]<t[n][1]||t[n][1]<=e[1]&&e[1]<t[o][1])&&e[0]<(t[n][0]-t[o][0])*(e[1]-t[o][1])/(t[n][1]-t[o][1])+t[o][0]&&(i=!i);return i}function f(t,i){for(var o=e.getData(),a=e.getOptions(),n=a.series.pie.radius>1?a.series.pie.radius:C*a.series.pie.radius,r=0;r<o.length;++r){var s=o[r];if(s.pie.show){if(ctx.save(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,n,s.startAngle,s.startAngle+s.angle,!1),ctx.closePath(),x=t-S,y=i-I,ctx.isPointInPath){if(ctx.isPointInPath(t-S,i-I))return ctx.restore(),{datapoint:[s.percent,s.data],dataIndex:0,series:s,seriesIndex:r}}else if(p1X=n*Math.cos(s.startAngle),p1Y=n*Math.sin(s.startAngle),p2X=n*Math.cos(s.startAngle+s.angle/4),p2Y=n*Math.sin(s.startAngle+s.angle/4),p3X=n*Math.cos(s.startAngle+s.angle/2),p3Y=n*Math.sin(s.startAngle+s.angle/2),p4X=n*Math.cos(s.startAngle+s.angle/1.5),p4Y=n*Math.sin(s.startAngle+s.angle/1.5),p5X=n*Math.cos(s.startAngle+s.angle),p5Y=n*Math.sin(s.startAngle+s.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y],h(arrPoly,arrPoint))return ctx.restore(),{datapoint:[s.percent,s.data],dataIndex:0,series:s,seriesIndex:r};ctx.restore()}}return null}function g(t){v("plothover",t)}function m(t){v("plotclick",t)}function v(t,i){var a=e.offset(),n=parseInt(i.pageX-a.left),r=parseInt(i.pageY-a.top),s=f(n,r);if(o.grid.autoHighlight)for(var l=0;l<N.length;++l){var c=N[l];c.auto!=t||s&&c.series==s.series||k(c.series)}s&&b(s.series,t);var u={pageX:i.pageX,pageY:i.pageY};T.trigger(t,[u,s])}function b(t,i){"number"==typeof t&&(t=series[t]);var o=w(t);o==-1?(N.push({series:t,auto:i}),e.triggerRedrawOverlay()):i||(N[o].auto=!1)}function k(t){null==t&&(N=[],e.triggerRedrawOverlay()),"number"==typeof t&&(t=series[t]);var i=w(t);i!=-1&&(N.splice(i,1),e.triggerRedrawOverlay())}function w(t){for(var e=0;e<N.length;++e){var i=N[e];if(i.series==t)return e}return-1}function _(t,e){function o(t){t.angle<0||(e.fillStyle="rgba(255, 255, 255, "+a.series.pie.highlight.opacity+")",e.beginPath(),Math.abs(t.angle-2*Math.PI)>1e-9&&e.moveTo(0,0),e.arc(0,0,n,t.startAngle,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var a=t.getOptions(),n=a.series.pie.radius>1?a.series.pie.radius:C*a.series.pie.radius;for(e.save(),e.translate(S,I),e.scale(1,a.series.pie.tilt),i=0;i<N.length;++i)o(N[i].series);d(e),e.restore()}var M=null,T=null,C=null,S=null,I=null,A=0,P=!0,O=10,z=.95,W=0,F=!1,N=[];e.hooks.processOptions.push(a),e.hooks.bindEvents.push(n)}var o={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(t,e){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+e.color+';">'+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};t.plot.plugins.push({init:e,options:o,name:"pie",version:"1.0"})}(jQuery),function(t){"use strict";var e={init:function(i){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,i),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var i=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[e]=[];for(var o=0;o<t;o++){var a=i[o],n=i[i.length-1];void 0===n&&(n=null),this.opt.hints[e][o]=void 0===a?n:a}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,i){return Math.min(Math.max(parseFloat(t),e),i)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",function(o){var a=!0,n=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||t(this).data("alt");i.opt.click&&(a=i.opt.click.call(i,+n,o)),(a||void 0===a)&&(i.opt.half&&!i.opt.precision&&(n=e._roundHalfScore.call(i,n)),e._apply.call(i,n))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(i){var o=+t.score.val()||void 0;e._apply.call(t,o),e._target.call(t,o,i),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,o,i)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(i){var o=t.opt.cancelOff;if("img"!==t.opt.starType&&(o=t.opt.cancelClass+" "+o),e._setIcon.call(t,this,o),t.opt.mouseout){var a=+t.score.val()||void 0;t.opt.mouseout.call(t,a,i)}})},_bindOver:function(){var t=this,i=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(i,function(i){var o=e._getScoreByPosition.call(t,i,this);e._fill.call(t,o),t.opt.half&&(e._roundStars.call(t,o,i),e._setTitle.call(t,o,i),t.self.data("score",o)),e._target.call(t,o,i),t.opt.mouseover&&t.opt.mouseover.call(t,o,i)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(i){var o=t.opt.path+t.opt.starOff,a=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",o):(a=t.opt.cancelClass+" "+a,t.stars.attr("class",o)),e._setIcon.call(t,this,a),e._target.call(t,null,i),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,i=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:e,alt:"x"}):i.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=t(this.opt.targetScore);this.score=i.length?i:e._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var o=e._nameForIndex.call(this,i),a={alt:i,src:this.opt.path+this.opt[o]};"img"!==this.opt.starType&&(a={"data-alt":i,"class":a.src}),a.title=e._getHint.call(this,i),t("<"+this.opt.starType+" />",a).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var i=0,o=1;o<=this.stars.length;o++){var a,n=this.stars[o-1],r=e._turnOn.call(this,o,t);if(this.opt.iconRange&&this.opt.iconRange.length>i){var s=this.opt.iconRange[i];a=e._getRangeIcon.call(this,s,r),o<=s.range&&e._setIcon.call(this,n,a),o===s.range&&i++}else a=this.opt[r?"starOn":"starOff"],e._setIcon.call(this,n,a)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],i=0;return e&&(i=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&i++),i},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(i,o){var a=parseInt(o.alt||o.getAttribute("data-alt"),10);if(this.opt.half){var n=e._getWidth.call(this),r=parseFloat((i.pageX-t(o).offset().left)/n);a=a-1+r}return a},_getHint:function(t,i){if(0!==t&&!t)return this.opt.noRatedMsg;var o=e._getFirstDecimal.call(this,t),a=Math.ceil(t),n=this.opt.hints[(a||1)-1],r=n,s=!i||this.move;return this.opt.precision?(s&&(o=0===o?9:o-1),r=n[o]):(this.opt.halfShow||this.opt.half)&&(o=s&&0===o?1:o>5?1:0,r=n[o]),""===r?"":r||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(){for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1)},_roundHalfScore:function(t){var i=parseInt(t,10),o=e._getFirstDecimal.call(this,t);return 0!==o&&(o=o>5?1:.5),i+o},_roundStars:function(t,i){var o,a=(t%1).toFixed(2);if(i||this.move?o=a>.5?"starOn":"starHalf":a>this.opt.round.down&&(o="starOn",this.opt.halfShow&&a<this.opt.round.up?o="starHalf":a<this.opt.round.full&&(o="starOff")),o){var n=this.opt[o],r=this.stars[Math.ceil(t)-1];e._setIcon.call(this,r,n)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,i){if(t){var o=parseInt(Math.ceil(t),10),a=this.stars[o-1];a.title=e._getHint.call(this,t,i)}},_target:function(i,o){if(this.opt.target){var a=t(this.opt.target);a.length||e._error.call(this,"Target selector invalid or missing!");var n=o&&"mouseover"===o.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=n?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=e._getHint.call(this,i,o):this.opt.precision&&(i=parseFloat(i).toFixed(1));var r=o&&"mousemove"===o.type;n||r||this.opt.targetKeep||(i=this.opt.targetText)}e._setTarget.call(this,a,i)}},_turnOn:function(t,e){return this.opt.single?t===e:t<=e},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each(function(){var o=t(this);o.data("readonly")!==!0&&(e[i?"click":"score"].call(o,null),this.score.removeAttr("value"))})},click:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,t.Event("click")),e._target.call(this,i))})},destroy:function(){return this.each(function(){var e=t(this),i=e.data("raw");i?e.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:void 0)}),e.length>1?e:e[0]},move:function(i){return this.each(function(){var o=parseInt(i,10),a=e._getFirstDecimal.call(this,i);o>=this.opt.number&&(o=this.opt.number-1,a=10);var n=e._getWidth.call(this),r=n/10,s=t(this.stars[o]),l=s.offset().left+r*a,c=t.Event("mousemove",{pageX:l});this.move=!0,s.trigger(c),this.move=!1})},readOnly:function(i){return this.each(function(){var o=t(this);o.data("readonly")!==i&&(i?(o.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),o.data("readonly",i))})},reload:function(){return e.set.call(this,{})},score:function(){var i=t(this);return arguments.length?e.setScore.apply(i,arguments):e.getScore.call(i)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(i){return this.each(function(){t(this).data("readonly")!==!0&&(i=e._adjustedScore.call(this,i),e._apply.call(this,i),e._target.call(this,i))})}};t.fn.raty=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(jQuery),function(t){function e(e,i,o){var a=o.relative?e.position().top:e.offset().top,n=o.relative?e.position().left:e.offset().left,r=o.position[0];a-=i.outerHeight()-o.offset[0],n+=e.outerWidth()+o.offset[1],/iPad/i.test(navigator.userAgent)&&(a-=t(window).scrollTop());var s=i.outerHeight()+e.outerHeight();"center"==r&&(a+=s/2),"bottom"==r&&(a+=s),r=o.position[1];var l=i.outerWidth()+e.outerWidth();return"center"==r&&(n-=l/2),"left"==r&&(n-=l),{top:a,left:n}}function i(i,a){var n,r,s=this,l=i.add(s),c=0,u=0,p=i.attr("title"),d=i.attr("data-tooltip"),h=o[a.effect],f=i.is(":input"),g=f&&i.is(":checkbox, :radio, select, :button, :submit"),m=i.attr("type"),v=a.events[m]||a.events[f?g?"widget":"input":"def"];if(!h)throw'Nonexistent effect "'+a.effect+'"';if(v=v.split(/,\s*/),2!=v.length)throw"Tooltip: bad events configuration for "+m;i.bind(v[0],function(t){clearTimeout(c),a.predelay?u=setTimeout(function(){s.show(t)},a.predelay):s.show(t)}).bind(v[1],function(t){clearTimeout(u),a.delay?c=setTimeout(function(){s.hide(t)},a.delay):s.hide(t)}),p&&a.cancelDefault&&(i.removeAttr("title"),i.data("title",p)),t.extend(s,{show:function(o){if(!n&&(d?n=t(d):a.tip?n=t(a.tip).eq(0):p?n=t(a.layout).addClass(a.tipClass).appendTo(document.body).hide().append(p):(n=i.next(),n.length||(n=i.parent().next())),!n.length))throw"Cannot find tooltip for "+i;if(s.isShown())return s;n.stop(!0,!0);var f=e(i,n,a);if(a.tip&&n.html(i.data("title")),o=t.Event(),o.type="onBeforeShow",l.trigger(o,[f]),o.isDefaultPrevented())return s;f=e(i,n,a),n.css({position:"absolute",top:f.top,left:f.left}),r=!0,h[0].call(s,function(){o.type="onShow",r="full",l.trigger(o)});var g=a.events.tooltip.split(/,\s*/);return n.data("__set")||(n.unbind(g[0]).bind(g[0],function(){clearTimeout(c),clearTimeout(u)}),g[1]&&!i.is("input:not(:checkbox, :radio), textarea")&&n.unbind(g[1]).bind(g[1],function(t){t.relatedTarget!=i[0]&&i.trigger(v[1].split(" ")[0])}),a.tip||n.data("__set",!0)),s},hide:function(e){return n&&s.isShown()?(e=t.Event(),e.type="onBeforeHide",l.trigger(e),e.isDefaultPrevented()?void 0:(r=!1,o[a.effect][1].call(s,function(){e.type="onHide",l.trigger(e)}),s)):s},isShown:function(t){return t?"full"==r:r},getConf:function(){return a},getTip:function(){return n},getTrigger:function(){return i}}),t.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(e,i){t.isFunction(a[i])&&t(s).bind(i,a[i]),s[i]=function(e){return e&&t(s).bind(i,e),s}})}t.tools=t.tools||{version:"v1.2.6"},t.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(t,e,i){o[t]=[e,i]}};var o={toggle:[function(t){var e=this.getConf(),i=this.getTip(),o=e.opacity;o<1&&i.css({opacity:o}),i.show(),t.call()},function(t){this.getTip().hide(),t.call()}],fade:[function(e){var i=this.getConf();!t.browser.msie||i.fadeIE?this.getTip().fadeTo(i.fadeInSpeed,i.opacity,e):(this.getTip().show(),e())},function(e){var i=this.getConf();!t.browser.msie||i.fadeIE?this.getTip().fadeOut(i.fadeOutSpeed,e):(this.getTip().hide(),e())}]};t.fn.tooltip=function(e){var o=this.data("tooltip");return o?o:(e=t.extend(!0,{},t.tools.tooltip.conf,e),"string"==typeof e.position&&(e.position=e.position.split(/,?\s/)),this.each(function(){o=new i(t(this),e),t(this).data("tooltip",o)}),e.api?o:this)}}(jQuery),function(t){var e=function(){var e=65,i='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',o={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},a=function(e,i){var o=D(e);t(i).data("colorpicker").fields.eq(1).val(o.r).end().eq(2).val(o.g).end().eq(3).val(o.b).end()},n=function(e,i){t(i).data("colorpicker").fields.eq(4).val(e.h).end().eq(5).val(e.s).end().eq(6).val(e.b).end()},r=function(e,i){t(i).data("colorpicker").fields.eq(0).val(U(e)).end()},s=function(e,i){t(i).data("colorpicker").selector.css("backgroundColor","#"+U({h:e.h,s:100,b:100})),t(i).data("colorpicker").selectorIndic.css({left:parseInt(150*e.s/100,10),top:parseInt(150*(100-e.b)/100,10)})},l=function(e,i){t(i).data("colorpicker").hue.css("top",parseInt(150-150*e.h/360,10))},c=function(e,i){t(i).data("colorpicker").currentColor.css("backgroundColor","#"+U(e))},u=function(e,i){t(i).data("colorpicker").newColor.css("backgroundColor","#"+U(e))},p=function(i){var o=i.charCode||i.keyCode||-1;if(o>e&&o<=90||32==o)return!1;var a=t(this).parent().parent();a.data("colorpicker").livePreview===!0&&d.apply(this)},d=function(e){var i,o=t(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?o.data("colorpicker").color=i=N(W(this.value)):this.parentNode.className.indexOf("_hsb")>0?o.data("colorpicker").color=i=O({h:parseInt(o.data("colorpicker").fields.eq(4).val(),10),s:parseInt(o.data("colorpicker").fields.eq(5).val(),10),b:parseInt(o.data("colorpicker").fields.eq(6).val(),10)}):o.data("colorpicker").color=i=H(z({r:parseInt(o.data("colorpicker").fields.eq(1).val(),10),g:parseInt(o.data("colorpicker").fields.eq(2).val(),10),b:parseInt(o.data("colorpicker").fields.eq(3).val(),10)})),e&&(a(i,o.get(0)),r(i,o.get(0)),n(i,o.get(0))),s(i,o.get(0)),l(i,o.get(0)),u(i,o.get(0)),o.data("colorpicker").onChange.apply(o,[i,U(i),D(i)])},h=function(){var e=t(this).parent().parent();e.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},f=function(){e=this.parentNode.className.indexOf("_hex")>0?70:65,t(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),t(this).parent().addClass("colorpicker_focus")},g=function(e){var i=t(this).parent().find("input").focus(),o={el:t(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:e.pageY,field:i,val:parseInt(i.val(),10),preview:t(this).parent().parent().data("colorpicker").livePreview};t(document).bind("mouseup",o,v),t(document).bind("mousemove",o,m)},m=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val+t.pageY-t.data.y,10)))),t.data.preview&&d.apply(t.data.field.get(0),[!0]),!1},v=function(e){return d.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colorpicker_slider").find("input").focus(),t(document).unbind("mouseup",v),t(document).unbind("mousemove",m),!1},x=function(){var e={cal:t(this).parent(),y:t(this).offset().top};e.preview=e.cal.data("colorpicker").livePreview,t(document).bind("mouseup",e,k),t(document).bind("mousemove",e,b)},b=function(t){return d.apply(t.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,t.pageY-t.data.y)))/150,10)).get(0),[t.data.preview]),!1},k=function(e){return a(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),t(document).unbind("mouseup",k),t(document).unbind("mousemove",b),!1},y=function(){var e={cal:t(this).parent(),pos:t(this).offset()};e.preview=e.cal.data("colorpicker").livePreview,t(document).bind("mouseup",e,_),t(document).bind("mousemove",e,w)},w=function(t){return d.apply(t.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,t.pageY-t.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,t.pageX-t.data.pos.left))/150,10)).get(0),[t.data.preview]),!1},_=function(e){return a(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),t(document).unbind("mouseup",_),t(document).unbind("mousemove",w),!1},M=function(){t(this).addClass("colorpicker_focus")},T=function(){t(this).removeClass("colorpicker_focus")},C=function(){var e=t(this).parent(),i=e.data("colorpicker").color;e.data("colorpicker").origColor=i,c(i,e.get(0)),e.data("colorpicker").onSubmit(i,U(i),D(i),e.data("colorpicker").el)},S=function(){var e=t("#"+t(this).data("colorpickerId"));e.data("colorpicker").onBeforeShow.apply(this,[e.get(0)]);var i=t(this).offset(),o=P(),a=i.top+this.offsetHeight,n=i.left;return a+176>o.t+o.h&&(a-=this.offsetHeight+176),n+356>o.l+o.w&&(n-=356),e.css({left:n+"px",top:a+"px"}),0!=e.data("colorpicker").onShow.apply(this,[e.get(0)])&&e.show(),t(document).bind("mousedown",{cal:e},I),!1},I=function(e){A(e.data.cal.get(0),e.target,e.data.cal.get(0))||(0!=e.data.cal.data("colorpicker").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),t(document).unbind("mousedown",I))},A=function(t,e,i){if(t==e)return!0;if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));for(var o=e.parentNode;o&&o!=i;){if(o==t)return!0;o=o.parentNode}return!1},P=function(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(t?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(t?document.documentElement.clientHeight:document.body.clientHeight)}},O=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},z=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},W=function(t){var e=6-t.length;if(e>0){for(var i=[],o=0;o<e;o++)i.push("0");i.push(t),t=i.join("")}return t},F=function(t){var t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:t>>16,g:(65280&t)>>8,b:255&t}},N=function(t){return H(F(t))},H=function(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),o=Math.max(t.r,t.g,t.b),a=o-i;return e.b=o,e.s=0!=o?255*a/o:0,0!=e.s?t.r==o?e.h=(t.g-t.b)/a:t.g==o?e.h=2+(t.b-t.r)/a:e.h=4+(t.r-t.g)/a:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},D=function(t){var e={},i=Math.round(t.h),o=Math.round(255*t.s/100),a=Math.round(255*t.b/100);if(0==o)e.r=e.g=e.b=a;else{var n=a,r=(255-o)*a/255,s=(n-r)*(i%60)/60;360==i&&(i=0),i<60?(e.r=n,e.b=r,e.g=r+s):i<120?(e.g=n,e.b=r,e.r=n-s):i<180?(e.g=n,e.r=r,e.b=r+s):i<240?(e.b=n,e.r=r,e.g=n-s):i<300?(e.b=n,e.g=r,e.r=r+s):i<360?(e.r=n,e.g=r,e.b=n-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},j=function(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1==e.length&&(i[t]="0"+e)}),i.join("")},U=function(t){return j(D(t))},L=function(){var e=t(this).parent(),i=e.data("colorpicker").origColor;e.data("colorpicker").color=i,a(i,e.get(0)),r(i,e.get(0)),n(i,e.get(0)),s(i,e.get(0)),l(i,e.get(0)),u(i,e.get(0))};return{init:function(e){if(e=t.extend({},o,e||{}),"string"==typeof e.color)e.color=N(e.color);else if(void 0!=e.color.r&&void 0!=e.color.g&&void 0!=e.color.b)e.color=H(e.color);else{if(void 0==e.color.h||void 0==e.color.s||void 0==e.color.b)return this;e.color=O(e.color)}return this.each(function(){if(!t(this).data("colorpickerId")){var o=t.extend({},e);o.origColor=e.color;var m="collorpicker_"+parseInt(1e3*Math.random());t(this).data("colorpickerId",m);var v=t(i).attr("id",m);o.flat?v.appendTo(this).show():v.appendTo(document.body),o.fields=v.find("input").bind("keyup",p).bind("change",d).bind("blur",h).bind("focus",f),v.find("span").bind("mousedown",g).end().find(">div.colorpicker_current_color").bind("click",L),o.selector=v.find("div.colorpicker_color").bind("mousedown",y),o.selectorIndic=o.selector.find("div div"),o.el=this,o.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",x),o.newColor=v.find("div.colorpicker_new_color"),o.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",o),v.find("div.colorpicker_submit").bind("mouseenter",M).bind("mouseleave",T).bind("click",C),a(o.color,v.get(0)),n(o.color,v.get(0)),r(o.color,v.get(0)),l(o.color,v.get(0)),s(o.color,v.get(0)),c(o.color,v.get(0)),u(o.color,v.get(0)),o.flat?v.css({position:"relative",display:"block"}):t(this).bind(o.eventName,S)}})},showPicker:function(){return this.each(function(){t(this).data("colorpickerId")&&S.apply(this)})},hidePicker:function(){return this.each(function(){t(this).data("colorpickerId")&&t("#"+t(this).data("colorpickerId")).hide()})},setColor:function(e){if("string"==typeof e)e=N(e);else if(void 0!=e.r&&void 0!=e.g&&void 0!=e.b)e=H(e);else{if(void 0==e.h||void 0==e.s||void 0==e.b)return this;e=O(e)}return this.each(function(){if(t(this).data("colorpickerId")){var i=t("#"+t(this).data("colorpickerId"));i.data("colorpicker").color=e,i.data("colorpicker").origColor=e,a(e,i.get(0)),n(e,i.get(0)),r(e,i.get(0)),l(e,i.get(0)),s(e,i.get(0)),c(e,i.get(0)),u(e,i.get(0))}})}}}();t.fn.extend({ColorPicker:e.init,ColorPickerHide:e.hidePicker,ColorPickerShow:e.showPicker,ColorPickerSetColor:e.setColor
})}(jQuery);